<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
	
	 <h:head>
     <title>Gestion des étudiants de l'UNCHK</title>
     <link href="style.css" rel="stylesheet" />
  </h:head>
  <h:body>
       <div>
           <h1>Étudiants déja inscrits</h1>
        
   <h:form>
   <p:dataTable value="#{personneEJB.pistePersonne}" var= "e"
    style="width:70%; margin:auto;">
    <p:column>
      <f:facet name="header">Id </f:facet>
      #{e.id}
    </p:column>
    <p:column>
      <f:facet name="header">Nom</f:facet>
      #{e.nom}
     </p:column>
     <p:column>
      <f:facet name="header">Prenom</f:facet>
      #{e.prenom}
     </p:column>
     <p:column>
     <f:facet name="header">Date de Naissance</f:facet>
     #{e.datenaiss}
     </p:column>
     <p:column colspan="2">
         <f:facet name="header">Operation</f:facet>
          <div class="row box-space-top">
              <h:panelGroup styleClass="label">
                    <h:commandLink action="#{personneEJB.deletePersonne(e)}" value="Supprimer" />
               </h:panelGroup><br/>
               <h:panelGroup styleClass="field">
                   <h:commandLink action="#{personneEJB.affiche(e)}" value="Modifier" />
               </h:panelGroup>
        </div>
  </p:column>
  </p:dataTable>
  </h:form>
  
  <div  class="#{personneEJB.modif?'cache':'null'}">
    <h1>Incrivez-vous sur la liste</h1>
    
    <h:form>
    <h:panelGrid columns="2" cellpadding="3">

        <h:message for="username1"/><br/>
        <p:outputLabel for="username1" styleClass="block">Nom</p:outputLabel>
       <p:inputText id="username1" styleClass="block" value="#{personneEJB.personne.nom}" a:placeholder="votre nom" 
       validatorMessage="Enter votre nom." rendered="true"/>


        <h:message for="username2"/><br/>
        <p:outputLabel for="username2" styleClass="block">Prenom</p:outputLabel>
       <p:inputText id="username2" styleClass="block" value="#{personneEJB.personne.prenom}" a:placeholder="votre prenom" 
       validatorMessage="Enter votre Prenom." required="true"/>


        <h:message for="dateNais"/><br/>
        <p:outputLabel for="dateNais" styleClass="block">Date de naissances</p:outputLabel>
        
        <p:calendar id="dateNais" value="#{personneEJB.date}" required="true" a:placeholder="votre date de naissance"
        pattern="yyyy-MM-dd" mode="popup" showOn="button" validatorMessage="Enter votre date de naissance">
        
        </p:calendar>
        <h:commandButton action="#{personneEJB.ajoutPersone()}"
          value="Enregistrer" />
     </h:panelGrid>
         <br/>
         </h:form>
     </div>
     
     <div class="#{personneEJB.modif?'null':'cache'}">
    <h1>Modification</h1>
    
    <h:form>
    <h:panelGrid columns="2" cellpadding="3">

        <h:message for="username1"/><br/>
        <p:outputLabel for="username1" styleClass="block">Nom</p:outputLabel>
       <p:inputText id="username1" styleClass="block" value="#{personneEJB.personne.nom}" a:placeholder="votre nom" 
       validatorMessage="Enter votre nom." rendered="true"/>


        <h:message for="username2"/><br/>
        <p:outputLabel for="username2" styleClass="block">Prenom</p:outputLabel>
       <p:inputText id="username2" styleClass="block" value="#{personneEJB.personne.prenom}" a:placeholder="votre prenom" 
       validatorMessage="Enter votre Prenom." required="true"/>


        <h:message for="dateNais"/><br/>
        <p:outputLabel for="dateNais" styleClass="block">Date de naissances</p:outputLabel>
        
        <p:calendar id="dateNais" value="#{personneEJB.date}" required="true" a:placeholder="votre date de naissance"
        pattern="yyyy-MM-dd" mode="popup" showOn="button" validatorMessage="Enter votre date de naissance">
        
        </p:calendar>
        <h:commandButton action="#{personneEJB.modifPersonne()}"
          value="Modifier" />
     </h:panelGrid>
         <br/>
         </h:form>
     </div>
  </div>
  </h:body>
</html>